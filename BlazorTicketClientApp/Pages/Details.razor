@page "/details/{id:int}"
@using BlazorTicketClientApp.Components
@using BlazorTicketClientApp.Models
@using BlazorTicketClientApp.Services
@using Shared.Models
@inject ITicketsService ticketsService



@if(ticket != null)
{
	<Ticket TicketModel="ticket"/>
}
@if(responses != null) 
{
	@foreach (var response in responses)
	{
		<Response ResponseViewModel="response" />
	}
}


@code {
	[Parameter]
	public int? Id { get; set; }
	private TicketViewModel? ticket;
	private List<ResponseViewModel>? responses;

	protected override async Task OnParametersSetAsync()
	{
		ticket = await ticketsService.GetTicketByIdAsync((int)Id);
		responses = DummyData.Responses;
	}
}
